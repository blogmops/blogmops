import{S as t,i as e,s,a,e as r,t as n,d as o,c as i,b as m,f as c,h as l,j as p,p as f,n as d}from"./internal.2858004e.js";
/*!
 * reading-time
 * Copyright (c) Nicolas Gryman <ngryman@gmail.com>
 * MIT Licensed
 */function u(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}var h=function(t,e){var s,a,r=0,n=0,o=t.length-1;for((e=e||{}).wordsPerMinute=e.wordsPerMinute||200,s=e.wordBound||u;s(t[n]);)n++;for(;s(t[o]);)o--;for(a=n;a<=o;){for(;a<=o&&!s(t[a]);a++);for(r++;a<=o&&s(t[a]);a++);}var i=r/e.wordsPerMinute,m=60*i*1e3;return{text:Math.ceil(i.toFixed(2))+" min read",minutes:i,time:m,words:r}};function g(t){var e,s,u,h,g,v,w,T,D,M,y,H,$,x,E,N,j=t.post.frontmatter.title,P=new Date(t.post.frontmatter.date).toDateString(),I=t.post.contentHtml;return document.title=e=t.post.frontmatter.title,{c(){s=a(),u=r("div"),h=r("h1"),g=n(j),v=a(),w=r("p"),T=n(P),D=n(" ﹒ "),M=n(t.readingTime),y=a(),H=r("img"),E=a(),N=r("div"),this.h()},l(e){s=o(e,"\n\n"),u=i(e,"DIV",{class:!0},!1);var a=m(u);h=i(a,"H1",{class:!0},!1);var r=m(h);g=o(r,j),r.forEach(c),v=o(a,"\n  "),w=i(a,"P",{class:!0},!1);var n=m(w);T=o(n,P),D=o(n," ﹒ "),M=o(n,t.readingTime),n.forEach(c),y=o(a,"\n  "),H=i(a,"IMG",{src:!0,class:!0,alt:!0},!1),m(H).forEach(c),E=o(a,"\n\n  "),N=i(a,"DIV",{class:!0},!1),m(N).forEach(c),a.forEach(c),this.h()},h(){h.className="svelte-10h0ygf",w.className="post-meta svelte-10h0ygf",H.src=$=t.post.frontmatter.preview,H.className="image",H.alt=x=t.post.frontmatter.title,N.className="content svelte-10h0ygf",u.className="container svelte-10h0ygf"},m(t,e){l(t,s,e),l(t,u,e),p(u,h),p(h,g),p(u,v),p(u,w),p(w,T),p(w,D),p(w,M),p(u,y),p(u,H),p(u,E),p(u,N),N.innerHTML=I},p(t,s){t.post&&e!==(e=s.post.frontmatter.title)&&(document.title=e),t.post&&j!==(j=s.post.frontmatter.title)&&f(g,j),t.post&&P!==(P=new Date(s.post.frontmatter.date).toDateString())&&f(T,P),t.readingTime&&f(M,s.readingTime),t.post&&$!==($=s.post.frontmatter.preview)&&(H.src=$),t.post&&x!==(x=s.post.frontmatter.title)&&(H.alt=x),t.post&&I!==(I=s.post.contentHtml)&&(N.innerHTML=I)},i:d,o:d,d(t){t&&(c(s),c(u))}}}async function v({params:t,query:e}){const s=await this.fetch(`blog/${t.slug}.json`),a=await s.json();if(200===s.status)return{post:a};this.error(s.status,a.message)}function w(t,e,s){let a,r,{post:n}=e;return t.$set=t=>{"post"in t&&s("post",n=t.post)},t.$$.update=(t={post:1,readingTimeData:1})=>{t.post&&s("readingTimeData",a=h(n.contentHtml)),t.readingTimeData&&s("readingTime",r=`${Math.ceil(a.minutes)} minute${Math.ceil(a.minutes)>1?"(s)":""} read`)},{post:n,readingTime:r}}export default class extends t{constructor(t){super(),e(this,t,w,g,s,["post"])}}export{v as preload};
