import{S as t,i as e,s as a,a as s,e as r,t as n,d as o,c as i,b as c,f as m,h as l,j as p,p as h,n as f}from"./internal.6ac0ae1a.js";
/*!
 * reading-time
 * Copyright (c) Nicolas Gryman <ngryman@gmail.com>
 * MIT Licensed
 */function d(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}var u=function(t,e){var a,s,r=0,n=0,o=t.length-1;for((e=e||{}).wordsPerMinute=e.wordsPerMinute||200,a=e.wordBound||d;a(t[n]);)n++;for(;a(t[o]);)o--;for(s=n;s<=o;){for(;s<=o&&!a(t[s]);s++);for(r++;s<=o&&a(t[s]);s++);}var i=r/e.wordsPerMinute,c=60*i*1e3;return{text:Math.ceil(i.toFixed(2))+" min read",minutes:i,time:c,words:r}};function g(t){var e,a,d,u,g,v,w,T,D,M,H,$,x,E,N,j,P=t.post.frontmatter.title,I=new Date(t.post.frontmatter.date).toDateString(),S=t.post.contentHtml;return document.title=e=t.post.frontmatter.title,{c(){a=s(),d=r("div"),u=r("h1"),g=n(P),v=s(),w=r("p"),T=n(I),D=n(" ﹒ "),M=n(t.readingTime),H=s(),$=r("img"),N=s(),j=r("div"),this.h()},l(e){a=o(e,"\n\n"),d=i(e,"DIV",{class:!0},!1);var s=c(d);u=i(s,"H1",{class:!0},!1);var r=c(u);g=o(r,P),r.forEach(m),v=o(s,"\n  "),w=i(s,"P",{class:!0},!1);var n=c(w);T=o(n,I),D=o(n," ﹒ "),M=o(n,t.readingTime),n.forEach(m),H=o(s,"\n  "),$=i(s,"IMG",{src:!0,alt:!0,class:!0},!1),c($).forEach(m),N=o(s,"\n\n  "),j=i(s,"DIV",{class:!0},!1),c(j).forEach(m),s.forEach(m),this.h()},h(){u.className="svelte-1hha6gh",w.className="post-meta svelte-1hha6gh",$.src=x=t.post.frontmatter.preview,$.alt=E=t.post.frontmatter.title,$.className="svelte-1hha6gh",j.className="content svelte-1hha6gh",d.className="container svelte-1hha6gh"},m(t,e){l(t,a,e),l(t,d,e),p(d,u),p(u,g),p(d,v),p(d,w),p(w,T),p(w,D),p(w,M),p(d,H),p(d,$),p(d,N),p(d,j),j.innerHTML=S},p(t,a){t.post&&e!==(e=a.post.frontmatter.title)&&(document.title=e),t.post&&P!==(P=a.post.frontmatter.title)&&h(g,P),t.post&&I!==(I=new Date(a.post.frontmatter.date).toDateString())&&h(T,I),t.readingTime&&h(M,a.readingTime),t.post&&x!==(x=a.post.frontmatter.preview)&&($.src=x),t.post&&E!==(E=a.post.frontmatter.title)&&($.alt=E),t.post&&S!==(S=a.post.contentHtml)&&(j.innerHTML=S)},i:f,o:f,d(t){t&&(m(a),m(d))}}}async function v({params:t,query:e}){const a=await this.fetch(`blog/${t.slug}.json`),s=await a.json();if(200===a.status)return{post:s};this.error(a.status,s.message)}function w(t,e,a){let s,r,{post:n}=e;return t.$set=t=>{"post"in t&&a("post",n=t.post)},t.$$.update=(t={post:1,readingTimeData:1})=>{t.post&&a("readingTimeData",s=u(n.contentHtml)),t.readingTimeData&&a("readingTime",r=`${Math.ceil(s.minutes)} minute${Math.ceil(s.minutes)>1?"(s)":""} read`)},{post:n,readingTime:r}}export default class extends t{constructor(t){super(),e(this,t,w,g,a,["post"])}}export{v as preload};
