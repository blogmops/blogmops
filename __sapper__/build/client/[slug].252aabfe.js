import{S as t,i as e,s,a,e as r,t as o,d as n,c as i,b as c,f as m,h as l,j as p,p as f,n as d}from"./internal.6ac0ae1a.js";
/*!
 * reading-time
 * Copyright (c) Nicolas Gryman <ngryman@gmail.com>
 * MIT Licensed
 */function u(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}var h=function(t,e){var s,a,r=0,o=0,n=t.length-1;for((e=e||{}).wordsPerMinute=e.wordsPerMinute||200,s=e.wordBound||u;s(t[o]);)o++;for(;s(t[n]);)n--;for(a=o;a<=n;){for(;a<=n&&!s(t[a]);a++);for(r++;a<=n&&s(t[a]);a++);}var i=r/e.wordsPerMinute,c=60*i*1e3;return{text:Math.ceil(i.toFixed(2))+" min read",minutes:i,time:c,words:r}};function g(t){var e,s,u,h,g,v,w,T,D,M,H,$,x,E,N,j,P=t.post.frontmatter.title,I=new Date(t.post.frontmatter.date).toDateString(),S=t.post.contentHtml;return document.title=e=t.post.frontmatter.title,{c(){s=a(),u=r("div"),h=r("h1"),g=o(P),v=a(),w=r("p"),T=o(I),D=o(" ﹒ "),M=o(t.readingTime),H=a(),$=r("img"),N=a(),j=r("div"),this.h()},l(e){s=n(e,"\n\n"),u=i(e,"DIV",{class:!0},!1);var a=c(u);h=i(a,"H1",{class:!0},!1);var r=c(h);g=n(r,P),r.forEach(m),v=n(a,"\n  "),w=i(a,"P",{class:!0},!1);var o=c(w);T=n(o,I),D=n(o," ﹒ "),M=n(o,t.readingTime),o.forEach(m),H=n(a,"\n  "),$=i(a,"IMG",{src:!0,alt:!0,class:!0},!1),c($).forEach(m),N=n(a,"\n\n  "),j=i(a,"DIV",{class:!0},!1),c(j).forEach(m),a.forEach(m),this.h()},h(){h.className="svelte-35w4os",w.className="post-meta svelte-35w4os",$.src=x=t.post.frontmatter.preview,$.alt=E=t.post.frontmatter.title,$.className="svelte-35w4os",j.className="content svelte-35w4os",u.className="container svelte-35w4os"},m(t,e){l(t,s,e),l(t,u,e),p(u,h),p(h,g),p(u,v),p(u,w),p(w,T),p(w,D),p(w,M),p(u,H),p(u,$),p(u,N),p(u,j),j.innerHTML=S},p(t,s){t.post&&e!==(e=s.post.frontmatter.title)&&(document.title=e),t.post&&P!==(P=s.post.frontmatter.title)&&f(g,P),t.post&&I!==(I=new Date(s.post.frontmatter.date).toDateString())&&f(T,I),t.readingTime&&f(M,s.readingTime),t.post&&x!==(x=s.post.frontmatter.preview)&&($.src=x),t.post&&E!==(E=s.post.frontmatter.title)&&($.alt=E),t.post&&S!==(S=s.post.contentHtml)&&(j.innerHTML=S)},i:d,o:d,d(t){t&&(m(s),m(u))}}}async function v({params:t,query:e}){const s=await this.fetch(`blog/${t.slug}.json`),a=await s.json();if(200===s.status)return{post:a};this.error(s.status,a.message)}function w(t,e,s){let a,r,{post:o}=e;return t.$set=t=>{"post"in t&&s("post",o=t.post)},t.$$.update=(t={post:1,readingTimeData:1})=>{t.post&&s("readingTimeData",a=h(o.contentHtml)),t.readingTimeData&&s("readingTime",r=`${Math.ceil(a.minutes)} minute${Math.ceil(a.minutes)>1?"(s)":""} read`)},{post:o,readingTime:r}}export default class extends t{constructor(t){super(),e(this,t,w,g,s,["post"])}}export{v as preload};
