"use strict";var __importDefault=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(exports,"__esModule",{value:!0});const postcss_1=__importDefault(require("postcss")),globalifyPlugin=a=>{a.walkAtRules(/keyframes$/,a=>{a.params.startsWith("-global-")||(a.params="-global-"+a.params)}),a.walkRules(a=>{a.parent&&"keyframes"===a.parent.name||(a.selectors=a.selectors.map(a=>a.split(" ").map(a=>a.startsWith(":local")?a.replace(/:local\((.+?)\)/g,"$1"):a.startsWith(":global")?a:`:global(${a})`).join(" ")))})},transformer=async({content:a,filename:b})=>{const{css:c,map:d}=await postcss_1.default().use(globalifyPlugin).process(a,{from:b,map:!0});return{code:c,map:d}};exports.default=transformer;